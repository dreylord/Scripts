#!/usr/bin/env python

import subprocess

def copysshkey():
    ansible_host = {
    "192.168.0.156",
    "192.168.0.117",
    "192.168.0.23",
    "192.168.0.91",
    "192.168.0.250",
    "192.168.0.31",
    "192.168.0.53",
    "192.168.146",
    "192.168.0.209",
    "192.168.0.19",
    "192.168.0.83",
    "192.168.0.13",
    "192.168.1.132",
    "192.168.1.99",
    "192.168.0.153",
    "192.168.1.174",
    "192.168.0.104",
    "192.168.0.72",
    "192.168.1.70",
    "192.168.0.168",
    "192.168.0.207",
    "192.168.1.166",
    "192.168.0.30",
    "192.168.0.60",
    "192.168.0.20",
    "192.168.1.37",
    "192.168.1.2",
    "192.168.0.103",
    "192.168.1.37",
    "192.168.0.137",
    "192.168.0.40"}

    keys = "/home/ansible/.ssh/id_rsa.pub"
    sshcopyid = "/usr/bin/ssh-copy-id"

    for host in ansible_host:
	user = 'iskra' + "@" + host
	subprocess.call([sshcopyid, "-i", keys, user])

def main():
    copysshkey()

if __name__ == "__main__":
    main()
